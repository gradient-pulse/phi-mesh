From abcdef1234567890 Mon Sep 17 00:00:00 2001
From: GPT-4.5 <gpt45@openai.com>
Date: Mon, 5 May 2025 21:31:00 +0000
Subject: [PATCH] Maintenance patch: auto-timestamp, squash-merge, auto-merge

---
.github/workflows/patch-runner.yml | 4 ++++
1 file changed, 4 insertions(+)

diff --git a/.github/workflows/patch-runner.yml b/.github/workflows/patch-runner.yml
index abcdef1..1234567 100644
--- a/.github/workflows/patch-runner.yml
+++ b/.github/workflows/patch-runner.yml
@@ -10,6 +10,10 @@ jobs:
       - name: Timestamp patch
         run: mv incoming/*.patch incoming/$(date +%Y%m%d_%H%M)_maintenance.patch

+      - name: Enable squash-merge
+        run: gh api --method PUT /repos/${{ github.repository }}/branches/main/protection +             -f required_pull_request_reviews.dismiss_stale_reviews=true
+
      - name: Auto-merge if only creation-circle/ touched
        uses: "peter-evans/create-pull-request@v4"
        with:
